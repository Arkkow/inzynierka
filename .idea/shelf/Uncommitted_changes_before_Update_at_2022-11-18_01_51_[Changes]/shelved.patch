Index: src/components/new_tournament/input_box/input_box.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import React, { useState, useRef } from \"react\";\r\nimport \"../input_box/input_box.css\";\r\n\r\nfunction InputBox() {\r\n  const [error, setError] = useState(null);\r\n  const [isSended, setIsSended] = useState(false);\r\n  const [response, setResponse] = useState([]);\r\n  const Token = JSON.parse(localStorage.getItem(\"token\")).token;\r\n  const name = useRef(\"1\");\r\n  const typeOfLadder = useRef(\"1\");\r\n  const pointsForTournament = useRef(1);\r\n  const places = useRef(\"1\");\r\n  // const roles = useRef(\"1\");\r\n  const ranked = useRef(\"1\");\r\n  const place = useRef(\"1\");\r\n  const from = useRef(\"1\");\r\n  const to = useRef(\"1\");\r\n  const rang = useRef(\"1\");\r\n  const entryFee = useRef(\"5\");\r\n  const director = useRef(\"1\");\r\n  const phone = useRef(\"1\");\r\n  const entriesTo = useRef(\"1\");\r\n  const additionalInformations = useRef(\"1\");\r\n  const categotry = useRef(\"OPEN\");\r\n  const visibility = useRef(\"TRUE\");\r\n  const handleClick = () => {\r\n    fetch(\"https://dragonmaster.pl/inz/tournament\", {\r\n      headers: {\r\n        Authorization: \"Bearer \" + Token,\r\n      },\r\n      method: \"PUT\",\r\n      body: JSON.stringify({\r\n        name: name.current.value,\r\n        typeOfLadder: typeOfLadder.current.value,\r\n        pointsForTournament: \"4\",\r\n        places: \"2\",\r\n        // roles: \"dupa\",\r\n        ranked: ranked.current.value,\r\n        place: place.current.value,\r\n        from: from.current.value,\r\n        to: to.current.value,\r\n        rang: rang.current.value,\r\n        entryFee: entryFee.current.value,\r\n        director: director.current.value,\r\n        phone: phone.current.value,\r\n        entriesTo: entriesTo.current.value,\r\n        additionalInformations: additionalInformations.current.value,\r\n        categotry: categotry.current.value,\r\n        visibility: \"TRUE\",\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then(\r\n        (result) => {\r\n          setIsSended(true);\r\n          setResponse(result);\r\n          console.log(result);\r\n        },\r\n        (error) => {\r\n          setIsSended(true);\r\n          setError(error);\r\n        }\r\n      );\r\n    if (error) {\r\n      alert(\"Coś poszło nie tak: \" + error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"mb-3\"\r\n      style={{\r\n        paddingTop: \"3%\",\r\n        paddingLeft: \"3%\",\r\n        fontFamily: \"Montserrat\",\r\n        fontWeight: \"600\",\r\n        fontSize: \"18px\",\r\n        lineHeight: \"22px\",\r\n        color: \"var(--dark_grey)\",\r\n      }}\r\n    >\r\n      <button\r\n        style={{\r\n          fontFamily: \"Montserrat\",\r\n          fontWeight: \"600\",\r\n          fontSize: \"18px\",\r\n          lineHeight: \"25px\",\r\n          color: \"white\",\r\n          float: \"right\",\r\n          marginRight: \"5%\",\r\n        }}\r\n        type=\"button\"\r\n        className=\"btn btn-success\"\r\n      >\r\n        STWÓRZ SZABLON TURNIEJU\r\n      </button>\r\n\r\n      <label\r\n        style={{ display: \"block\", textAlign: \"left\", width: \"33%\" }}\r\n        htmlFor=\"exampleFormControlInput1\"\r\n        className=\"form-label\"\r\n      >\r\n        Nazwa turnieju\r\n      </label>\r\n      <input\r\n        style={{ width: \"33%\" }}\r\n        type=\"text\"\r\n        className=\"form-control\"\r\n        id=\"exampleFormControlInput1\"\r\n        ref={name}\r\n      ></input>\r\n\r\n      <label\r\n        style={{ display: \"block\", textAlign: \"left\", marginTop: \"1%\" }}\r\n        htmlFor=\"exampleFormControlInput1\"\r\n        className=\"form-label\"\r\n      >\r\n        Data rozpoczęcia turnieju\r\n      </label>\r\n      <input\r\n        style={{ width: \"33%\" }}\r\n        type=\"date\"\r\n        className=\"form-control\"\r\n        id=\"exampleFormControlInput1\"\r\n        ref={from}\r\n      ></input>\r\n      <label\r\n        style={{ display: \"block\", textAlign: \"left\", marginTop: \"1%\" }}\r\n        htmlFor=\"exampleFormControlInput1\"\r\n        className=\"form-label\"\r\n      >\r\n        Data zakończenia turnieju\r\n      </label>\r\n      <input\r\n        style={{ width: \"33%\" }}\r\n        type=\"date\"\r\n        className=\"form-control\"\r\n        id=\"exampleFormControlInput1\"\r\n        ref={to}\r\n      ></input>\r\n\r\n      <label\r\n        style={{ display: \"block\", textAlign: \"left\", marginTop: \"1%\" }}\r\n        htmlFor=\"exampleFormControlInput1\"\r\n        className=\"form-label\"\r\n      >\r\n        Miejsce\r\n      </label>\r\n      <input\r\n        style={{ width: \"33%\" }}\r\n        type=\"text\"\r\n        className=\"form-control\"\r\n        id=\"exampleFormControlInput1\"\r\n        ref={place}\r\n      ></input>\r\n\r\n      <label\r\n        style={{ display: \"block\", textAlign: \"left\", marginTop: \"1%\" }}\r\n        htmlFor=\"exampleFormControlInput1\"\r\n        className=\"form-label\"\r\n      >\r\n        Kategorie\r\n      </label>\r\n      <input\r\n        style={{ width: \"10%\", textAlign: \"center\" }}\r\n        className=\"form-control\"\r\n        type=\"text\"\r\n        value=\"OPEN\"\r\n        aria-label=\"Disabled input example\"\r\n        disabled\r\n        readOnly\r\n        ref={categotry}\r\n      ></input>\r\n\r\n      <div className=\"form-group\">\r\n        <label\r\n          style={{ display: \"block\", textAlign: \"left\", marginTop: \"1%\" }}\r\n          htmlFor=\"exampleFormControlInput1\"\r\n          className=\"form-label\"\r\n        >\r\n          Ranga\r\n        </label>\r\n        <select\r\n          style={{ width: \"33%\" }}\r\n          className=\"form-control\"\r\n          id=\"sel1\"\r\n          ref={rang}\r\n        >\r\n          <option selected>CHALLENGER</option>\r\n          <option value=\"1\">MASTER</option>\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label\r\n          style={{ display: \"block\", textAlign: \"left\", marginTop: \"1%\" }}\r\n          htmlFor=\"exampleFormControlInput1\"\r\n          className=\"form-label\"\r\n        >\r\n          System turniejowy\r\n        </label>\r\n        <select\r\n          style={{ width: \"33%\" }}\r\n          className=\"form-control\"\r\n          id=\"sel1\"\r\n          ref={typeOfLadder}\r\n        >\r\n          <option selected>DRABINKA KLASYCZNA</option>\r\n          <option value=\"1\">DRABINKA O MIEJSCA</option>\r\n          <option value=\"2\">GRUPY + DRABINKA</option>\r\n        </select>\r\n      </div>\r\n\r\n      <label\r\n        style={{ display: \"block\", textAlign: \"left\", marginTop: \"1%\" }}\r\n        htmlFor=\"exampleFormControlInput1\"\r\n        className=\"form-label\"\r\n      >\r\n        Wpisowe\r\n      </label>\r\n      <input\r\n        style={{ width: \"33%\" }}\r\n        type=\"number\"\r\n        className=\"form-control\"\r\n        id=\"exampleFormControlInput1\"\r\n        ref={entryFee}\r\n      ></input>\r\n\r\n      <label\r\n        style={{ display: \"block\", textAlign: \"left\", marginTop: \"1%\" }}\r\n        htmlFor=\"exampleFormControlInput1\"\r\n        className=\"form-label\"\r\n      >\r\n        Dyrektor turnieju\r\n      </label>\r\n      <input\r\n        style={{ width: \"33%\" }}\r\n        type=\"text\"\r\n        className=\"form-control\"\r\n        id=\"exampleFormControlInput1\"\r\n        ref={director}\r\n      ></input>\r\n\r\n      <label\r\n        style={{ display: \"block\", textAlign: \"left\", marginTop: \"1%\" }}\r\n        htmlFor=\"exampleFormControlInput1\"\r\n        className=\"form-label\"\r\n      >\r\n        Telefon\r\n      </label>\r\n      <input\r\n        style={{ width: \"33%\" }}\r\n        type=\"tel\"\r\n        className=\"form-control\"\r\n        id=\"exampleFormControlInput1\"\r\n        ref={phone}\r\n      ></input>\r\n\r\n      <label\r\n        style={{ display: \"block\", textAlign: \"left\", marginTop: \"1%\" }}\r\n        htmlFor=\"exampleFormControlInput1\"\r\n        className=\"form-label\"\r\n      >\r\n        Zapisy do\r\n      </label>\r\n      <input\r\n        style={{ width: \"33%\" }}\r\n        type=\"date\"\r\n        className=\"form-control\"\r\n        id=\"exampleFormControlInput1\"\r\n        ref={entriesTo}\r\n      ></input>\r\n\r\n      <label\r\n        style={{ display: \"block\", textAlign: \"left\", marginTop: \"1%\" }}\r\n        htmlFor=\"exampleFormControlTextarea1\"\r\n        className=\"form-label\"\r\n      >\r\n        Dodatkowe informacje\r\n      </label>\r\n      <textarea\r\n        style={{ width: \"66%\", height: \"25vh\", resize: \"none\" }}\r\n        className=\"form-control\"\r\n        id=\"exampleFormControlTextarea1\"\r\n        rows=\"3\"\r\n        ref={additionalInformations}\r\n      ></textarea>\r\n\r\n      <label\r\n        style={{ display: \"block\", textAlign: \"left\", marginTop: \"1%\" }}\r\n        htmlFor=\"exampleFormControlTextarea1\"\r\n        className=\"form-label\"\r\n      >\r\n        Widoczność turnieju\r\n      </label>\r\n      <div\r\n        style={{ display: \"block\", textAlign: \"left\" }}\r\n        className=\"form-check form-switch\"\r\n      >\r\n        <input\r\n          className=\"form-check-input\"\r\n          type=\"checkbox\"\r\n          role=\"switch\"\r\n          id=\"flexSwitchCheckDefault\"\r\n          ref={visibility}\r\n        ></input>\r\n      </div>\r\n\r\n      <label\r\n        style={{ display: \"block\", textAlign: \"left\", marginTop: \"1%\" }}\r\n        htmlFor=\"exampleFormControlTextarea1\"\r\n        className=\"form-label\"\r\n      >\r\n        Rankingowość turnieju\r\n      </label>\r\n      <div\r\n        style={{ display: \"block\", textAlign: \"left\" }}\r\n        className=\"form-check form-switch\"\r\n      >\r\n        <input\r\n          className=\"form-check-input\"\r\n          type=\"checkbox\"\r\n          role=\"switch\"\r\n          id=\"flexSwitchCheckDefault\"\r\n          ref={ranked}\r\n        ></input>\r\n      </div>\r\n\r\n      <label\r\n        style={{ display: \"block\", textAlign: \"left\", marginTop: \"1%\" }}\r\n        htmlFor=\"exampleFormControlTextarea1\"\r\n        className=\"form-label\"\r\n      >\r\n        Logo turnieju\r\n      </label>\r\n      <input\r\n        style={{ width: \"33%\" }}\r\n        className=\"form-control\"\r\n        type=\"file\"\r\n        id=\"formFile\"\r\n      ></input>\r\n\r\n      <div style={{ marginTop: \"3%\" }}>\r\n        <button\r\n          style={{\r\n            marginRight: \"2%\",\r\n            fontFamily: \"Montserrat\",\r\n            fontWeight: \"600\",\r\n            fontSize: \"18px\",\r\n            lineHeight: \"25px\",\r\n            color: \"white\",\r\n          }}\r\n          type=\"button\"\r\n          className=\"btn btn-secondary\"\r\n        >\r\n          ANULUJ\r\n        </button>\r\n        <button\r\n          style={{\r\n            fontFamily: \"Montserrat\",\r\n            fontWeight: \"600\",\r\n            fontSize: \"18px\",\r\n            lineHeight: \"25px\",\r\n            color: \"white\",\r\n          }}\r\n          type=\"button\"\r\n          className=\"btn btn-success\"\r\n          onClick={handleClick}\r\n        >\r\n          STWÓRZ TURNIEJ\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InputBox;\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/components/new_tournament/input_box/input_box.js b/src/components/new_tournament/input_box/input_box.js
--- a/src/components/new_tournament/input_box/input_box.js	(revision 9edffeac21e3436fa1b773c85c6760b1d3b18063)
+++ b/src/components/new_tournament/input_box/input_box.js	(date 1668731953107)
@@ -5,12 +5,11 @@
   const [error, setError] = useState(null);
   const [isSended, setIsSended] = useState(false);
   const [response, setResponse] = useState([]);
-  const Token = JSON.parse(localStorage.getItem("token")).token;
   const name = useRef("1");
   const typeOfLadder = useRef("1");
-  const pointsForTournament = useRef(1);
+  const pointsForTournament = useRef("1");
   const places = useRef("1");
-  // const roles = useRef("1");
+  const roles = useRef("1");
   const ranked = useRef("1");
   const place = useRef("1");
   const from = useRef("1");
@@ -24,17 +23,14 @@
   const categotry = useRef("OPEN");
   const visibility = useRef("TRUE");
   const handleClick = () => {
-    fetch("https://dragonmaster.pl/inz/tournament", {
-      headers: {
-        Authorization: "Bearer " + Token,
-      },
+    fetch("https://dragonmaster.pl/inz/user/create", {
       method: "PUT",
       body: JSON.stringify({
         name: name.current.value,
         typeOfLadder: typeOfLadder.current.value,
-        pointsForTournament: "4",
-        places: "2",
-        // roles: "dupa",
+        pointsForTournament: pointsForTournament.current.value,
+        places: places.current.value,
+        roles: roles.current.value,
         ranked: ranked.current.value,
         place: place.current.value,
         from: from.current.value,
@@ -46,7 +42,7 @@
         entriesTo: entriesTo.current.value,
         additionalInformations: additionalInformations.current.value,
         categotry: categotry.current.value,
-        visibility: "TRUE",
+        visibility: visibility.current.value,
       }),
     })
       .then((res) => res.json())
